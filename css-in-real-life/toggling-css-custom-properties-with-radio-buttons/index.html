<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Toggling CSS Custom Properties with Radio Buttons</title>
	<link rel="stylesheet" href="/css/style.css" />
</head>
<body>
	
		<nav class="background-primary">
			<a href="/">Steph&#39;s Favorite RSS</a>
			<small><em>Fetching results since Feb 25, 2021</em></small>
		</nav>
	

	<header >
			
		<div class="container container--item">
				<small><strong>May 4, 2021</strong></small>

				<h1>Toggling CSS Custom Properties with Radio Buttons</h1>
				<p class="header-meta">

<span class="category"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" focusable="false" aria-hidden="true" width="24"><defs/><path d="M0 0h24v24H0V0z" fill="none"/><path d="M17 3H7c-1.1 0-2 .9-2 2v16l7-3 7 3V5c0-1.1-.9-2-2-2z"/></svg> <a href="/category/css/">CSS</a></span>

 <a href="/css-in-real-life/">All from CSS In Real Life</a> <strong><a href="https://css-irl.info/toggling-css-custom-properties-with-radio-buttons/">View <span class="inclusively-hidden">Toggling CSS Custom Properties with Radio Buttons</span> on css-irl.info</a></strong></p>
			
		</div>
	</header>
	<main>
	<article class="container item-article background-light">
<p>As part of a <a href="https://tympanus.net/codrops/2021/05/04/dynamic-css-masks-with-custom-properties-and-gsap/">recent article published on Codrops</a>, I made some demos that allowed the user to toggle between three different values for a clip path using radio buttons. As with so many things these days, I found myself reaching for <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/--*">custom properties</a>! Let’s take a look at why custom properties are great for this.</p>
<h2>Common approaches</h2>
<p>Let’s look at one way we could approach this <em>without</em> custom properties. We could use Javascript to detect when a user interacts with a radio button and append a class to the <code>&lt;figure&gt;</code> accordingly:</p>
<pre class="language-js"><code class="language-js"><span class="token keyword">const</span> clippedElement <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'.clipped-element'</span><span class="token punctuation">)</span><br /><span class="token keyword">const</span> controls <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'.controls'</span><span class="token punctuation">)</span><br /><br /><span class="token keyword">let</span> currentClass <span class="token operator">=</span> <span class="token string">'circle'</span><br /><br /><span class="token keyword">const</span> <span class="token function-variable function">onChange</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span><br />  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>value <span class="token operator">||</span> <span class="token operator">!</span>e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>checked<span class="token punctuation">)</span> <span class="token keyword">return</span><br /><br />  <span class="token keyword">if</span> <span class="token punctuation">(</span>clippedElement<span class="token punctuation">.</span>classList<span class="token punctuation">.</span><span class="token function">contains</span><span class="token punctuation">(</span>currentClass<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br />    clippedElement<span class="token punctuation">.</span>classList<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span>currentClass<span class="token punctuation">,</span> e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>value<span class="token punctuation">)</span><br />  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span><br />    clippedElement<span class="token punctuation">.</span>classList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>value<span class="token punctuation">)</span><br />  <span class="token punctuation">}</span><br /><br />  currentClass <span class="token operator">=</span> e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>value<br /><span class="token punctuation">}</span><br /><br />controls<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'change'</span><span class="token punctuation">,</span> onChange<span class="token punctuation">)</span></code></pre>
<p>Then it’s a matter of defining our clip-path values for each class within our CSS:</p>
<pre class="language-css"><code class="language-css"><span class="token selector">.clipped-element</span> <span class="token punctuation">{</span><br />  <span class="token property">-webkit-clip-path</span><span class="token punctuation">:</span> <span class="token function">circle</span><span class="token punctuation">(</span>25% at 70%<span class="token punctuation">)</span><span class="token punctuation">;</span><br />  <span class="token property">clip-path</span><span class="token punctuation">:</span> <span class="token function">circle</span><span class="token punctuation">(</span>25% at 50%<span class="token punctuation">)</span><span class="token punctuation">;</span><br /><span class="token punctuation">}</span><br /><br /><span class="token selector">.clipped-element.polygon</span> <span class="token punctuation">{</span><br />  <span class="token property">-webkit-clip-path</span><span class="token punctuation">:</span> <span class="token function">polygon</span><span class="token punctuation">(</span>50% 0%...<span class="token punctuation">)</span><span class="token punctuation">;</span><br />  <span class="token property">clip-path</span><span class="token punctuation">:</span> <span class="token function">polygon</span><span class="token punctuation">(</span>50% 0%...<span class="token punctuation">)</span><span class="token punctuation">;</span><br /><span class="token punctuation">}</span><br /><br /><span class="token selector">.clipped-element.svg</span> <span class="token punctuation">{</span><br />  <span class="token property">-webkit-clip-path</span><span class="token punctuation">:</span> <span class="token function">path</span><span class="token punctuation">(</span><span class="token string">'M202.2...'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br />  <span class="token property">clip-path</span><span class="token punctuation">:</span> <span class="token function">path</span><span class="token punctuation">(</span><span class="token string">'M202.2...'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br /><span class="token punctuation">}</span></code></pre>
<p>I’ve shortened the values of the last two here for brevity and readability, but <a href="https://codepen.io/michellebarker/pen/mdRZjdR">this demo</a> has the full code.</p>
<p>Another option is to set the <code>style</code> attribute in JS, but I prefer the CSS way, as it feels cleaner to me. <code>clip-path</code> requires a prefix in some browsers, so setting this in CSS seems more maintainable — but it’s a matter of personal preference.</p>
<p>While there’s nothing <em>wrong</em> with these approaches, let’s see what the alternative looks like with custom properties.</p>
<h2>Toggling the custom property</h2>
<p>In our HTML we have three radio buttons with values of <em>circle</em>, <em>polygon</em> and <em>svg</em> respectively:</p>
<pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>controls<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><br />  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>fieldset</span><span class="token punctuation">></span></span><br />    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>legend</span><span class="token punctuation">></span></span>Switch clip path values<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>legend</span><span class="token punctuation">></span></span><br />    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span><br />      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>radio<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>shape<span class="token punctuation">"</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>r_circle<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>circle<span class="token punctuation">"</span></span> <span class="token attr-name">checked</span> <span class="token punctuation">/></span></span><br />      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>label</span> <span class="token attr-name">for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>r_circle<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Circle<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>label</span><span class="token punctuation">></span></span><br />    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><br />    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span><br />      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>radio<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>shape<span class="token punctuation">"</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>r_polygon<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>polygon<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span><br />      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>label</span> <span class="token attr-name">for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>r_polygon<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Polygon<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>label</span><span class="token punctuation">></span></span><br />    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><br />    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span><br />      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>radio<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>shape<span class="token punctuation">"</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>r_svg<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>svg<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span><br />      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>label</span> <span class="token attr-name">for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>r_svg<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>SVG path<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>label</span><span class="token punctuation">></span></span><br />    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><br />  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>fieldset</span><span class="token punctuation">></span></span><br /><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">></span></span><br /><br /><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>clipped-element<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span></code></pre>
<p>We can assign a custom property for each value in CSS (again, the SVG path and polygon values are truncated here for brevity):</p>
<pre class="language-css"><code class="language-css"><span class="token selector">.clipped-element</span> <span class="token punctuation">{</span><br />  <span class="token property">--circle</span><span class="token punctuation">:</span> <span class="token function">circle</span><span class="token punctuation">(</span>25% at 50%<span class="token punctuation">)</span><span class="token punctuation">;</span><br />  <span class="token property">--polygon</span><span class="token punctuation">:</span> <span class="token function">polygon</span><span class="token punctuation">(</span>50% 0%...<span class="token punctuation">)</span><span class="token punctuation">;</span><br />  <span class="token property">--svg</span><span class="token punctuation">:</span> <span class="token function">path</span><span class="token punctuation">(</span><span class="token string">'M202.2...'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br /><span class="token punctuation">}</span></code></pre>
<p>Additionally, we can assign a custom property of <code>--clip</code> a value for our clip path. That means that every time we change the <code>--clip</code> value, both the prefixed property value <em>and</em> the regular property value will be updated. (I’ve written about this in a previous article, <a href="https://css-irl.info/7-uses-for-css-custom-properties/">7 Uses For Custom Properties</a>.)</p>
<p>We’ll give it an initial value corresponding to our first radio button option, using the <code>--circle</code> custom property:</p>
<pre class="language-css"><code class="language-css"><span class="token selector">.clipped-element</span> <span class="token punctuation">{</span><br />  <span class="token property">--circle</span><span class="token punctuation">:</span> <span class="token function">circle</span><span class="token punctuation">(</span>25% at 70%<span class="token punctuation">)</span><span class="token punctuation">;</span><br />  <span class="token property">--polygon</span><span class="token punctuation">:</span> <span class="token function">polygon</span><span class="token punctuation">(</span>50% 0%...<span class="token punctuation">)</span><span class="token punctuation">;</span><br />  <span class="token property">--svg</span><span class="token punctuation">:</span> <span class="token function">path</span><span class="token punctuation">(</span><span class="token string">'M202.2...'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br /><br />  <span class="token property">--clip</span><span class="token punctuation">:</span> <span class="token function">var</span><span class="token punctuation">(</span>--circle<span class="token punctuation">)</span><span class="token punctuation">;</span><br />  <span class="token property">-webkit-clip-path</span><span class="token punctuation">:</span> <span class="token function">var</span><span class="token punctuation">(</span>--clip<span class="token punctuation">)</span><span class="token punctuation">;</span><br />  <span class="token property">clip-path</span><span class="token punctuation">:</span> <span class="token function">var</span><span class="token punctuation">(</span>--clip<span class="token punctuation">)</span><span class="token punctuation">;</span><br /><span class="token punctuation">}</span></code></pre>
<p>Then, in our <code>onChange</code> event handler, we update the value of <code>--clip</code> with the custom property corresponding to the selected radio input. We can use <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Template_literals">template literals</a> to do this:</p>
<pre class="language-js"><code class="language-js"><span class="token keyword">const</span> <span class="token function-variable function">onChange</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span><br />  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>value <span class="token operator">||</span> <span class="token operator">!</span>e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>checked<span class="token punctuation">)</span> <span class="token keyword">return</span><br /><br />  clippedElement<span class="token punctuation">.</span>style<span class="token punctuation">.</span><span class="token function">setProperty</span><span class="token punctuation">(</span><span class="token string">'--clip'</span><span class="token punctuation">,</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">var(--</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>value<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">)</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><br /><span class="token punctuation">}</span></code></pre>
<p>We achieve the same result, and both our CSS and JS code is much more concise.</p>
<p>The full demo:</p>
<p class="codepen" data-height="453" data-theme-id="dark" data-default-tab="result" data-user="michellebarker" data-slug-hash="bGgXyYp" style="height: 453px; box-sizing: border-box; display: flex; align-items: center; justify-content: center; border: 2px solid; margin: 1em 0; padding: 1em;" data-pen-title="Clip path toggle with custom properties">
  <span>See the Pen <a href="https://codepen.io/michellebarker/pen/bGgXyYp">
  Clip path toggle with custom properties</a> by Michelle Barker (<a href="https://codepen.io/michellebarker">@michellebarker</a>)
  on <a href="https://codepen.io/">CodePen</a>.</span>
</p>
&nbsp;
<p>Incidentally, CSS Tricks has recently published a <a href="https://css-tricks.com/a-complete-guide-to-custom-properties/">complete guide to custom properties</a>, featuring some great tips and examples of ways to use them.</p>
</article>
	</main>
	<footer class="background-primary">
		<p><a href="https://github.com/5t3ph/eleventy-rss-reader">eleventy-rss-reader</a> created by <a href="https://twitter.com/5t3ph">Stephanie Eckles</a></p>
	</footer>

	
	<script async src="https://cpwebassets.codepen.io/assets/embed/ei.js"></script>
	
</body>
</html>